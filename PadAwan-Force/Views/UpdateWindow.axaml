<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:PadAwan_Force.ViewModels"
        x:Class="PadAwan_Force.Views.UpdateWindow"
        Title="Update Manager"
        Width="500" Height="400"
        CanResize="False"
        Background="Black"
        Icon="/Assets/avalonia-logo.ico"
        WindowStartupLocation="CenterOwner">
  
  <Grid Margin="30">
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="*"/>
      <RowDefinition Height="Auto"/>
    </Grid.RowDefinitions>
    
    <!-- Top horizontal rectangle -->
    <Rectangle Grid.Row="0" Grid.Column="0"
               Fill="#1A1A1A" 
               Height="50" 
               VerticalAlignment="Top" 
               Margin="-30,-30,-30,0"/>
    
    <!-- Bottom horizontal rectangle -->
    <Rectangle Grid.Row="2" Grid.Column="0"
               Fill="#1A1A1A" 
               Height="50" 
               VerticalAlignment="Bottom" 
               Margin="-30,0,-30,-30"/>
    
    <!-- Title -->
    <TextBlock Grid.Row="0" 
               Text="Update Manager" 
               FontSize="32" 
               FontWeight="Bold" 
               Foreground="#00FFFF"
               HorizontalAlignment="Left" 
               Margin="-20,-25,0,30"/>

    <!-- Content -->
    <StackPanel Grid.Row="1" Spacing="20" Margin="0,20,0,0">
      
      <!-- Current Versions -->
      <Border Background="#2A2A2A" CornerRadius="10" Padding="15">
        <StackPanel Spacing="10">
          <TextBlock Text="Current Versions" 
                     FontSize="18" 
                     FontWeight="Bold"
                     Foreground="White" 
                     HorizontalAlignment="Center"
                     Margin="0,0,0,10"/>
          
          <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Spacing="20">
            <StackPanel>
              <TextBlock Text="Device Firmware:" 
                         FontSize="14" 
                         Foreground="White"/>
              <TextBlock Text="{Binding DeviceFirmwareVersion}" 
                         FontSize="16" 
                         FontWeight="Bold"
                         Foreground="#00FFFF"
                         HorizontalAlignment="Center"
                         Margin="0,5,0,0"/>
            </StackPanel>
            
            <StackPanel>
              <TextBlock Text="Software:" 
                         FontSize="14" 
                         Foreground="White"/>
              <TextBlock Text="{Binding SoftwareVersion}" 
                         FontSize="16" 
                         FontWeight="Bold"
                         Foreground="#00FFFF"
                         HorizontalAlignment="Center"
                         Margin="0,5,0,0"/>
            </StackPanel>
          </StackPanel>
        </StackPanel>
      </Border>
      
      <!-- Check for Updates Button -->
      <Button Content="Check for Updates" 
              Width="200" 
              Height="40" 
              FontSize="16" 
              FontWeight="Bold" 
              Background="#404040" 
              Foreground="White" 
              BorderBrush="#707070" 
              BorderThickness="2" 
              CornerRadius="5"
              HorizontalAlignment="Center"
              Command="{Binding CheckForUpdatesCommand}"/>
      
      <!-- Update Status -->
      <Border Background="#2A2A2A" CornerRadius="10" Padding="15" IsVisible="{Binding HasUpdateInfo}">
        <StackPanel Spacing="10">
          <TextBlock Text="Available Updates" 
                     FontSize="18" 
                     FontWeight="Bold"
                     Foreground="White" 
                     HorizontalAlignment="Center"
                     Margin="0,0,0,10"/>
          
          <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Spacing="20">
            <StackPanel>
              <TextBlock Text="Latest Firmware:" 
                         FontSize="14" 
                         Foreground="White"/>
              <TextBlock Text="{Binding LatestFirmwareVersion}" 
                         FontSize="16" 
                         FontWeight="Bold"
                         Foreground="LimeGreen"
                         HorizontalAlignment="Center"
                         Margin="0,5,0,0"/>
            </StackPanel>
            
            <StackPanel>
              <TextBlock Text="Latest Software:" 
                         FontSize="14" 
                         Foreground="White"/>
              <TextBlock Text="{Binding LatestSoftwareVersion}" 
                         FontSize="16" 
                         FontWeight="Bold"
                         Foreground="LimeGreen"
                         HorizontalAlignment="Center"
                         Margin="0,5,0,0"/>
            </StackPanel>
          </StackPanel>
          
          <!-- Update Buttons -->
          <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Spacing="10" Margin="0,15,0,0">
            <Button Content="Update Firmware" 
                    Width="150" 
                    Height="35" 
                    FontSize="14" 
                    FontWeight="Bold" 
                    Background="#00FFFF" 
                    Foreground="Black" 
                    BorderBrush="#00FFFF" 
                    BorderThickness="2" 
                    CornerRadius="5"
                    IsEnabled="{Binding CanUpdateFirmware}"
                    Command="{Binding UpdateFirmwareCommand}"/>
            
            <Button Content="Update Software" 
                    Width="150" 
                    Height="35" 
                    FontSize="14" 
                    FontWeight="Bold" 
                    Background="#404040" 
                    Foreground="White" 
                    BorderBrush="#707070" 
                    BorderThickness="2" 
                    CornerRadius="5"
                    IsEnabled="{Binding CanUpdateSoftware}"
                    Command="{Binding UpdateSoftwareCommand}"/>
          </StackPanel>
        </StackPanel>
      </Border>
      
      <!-- Progress Bar -->
      <Border Background="#2A2A2A" CornerRadius="10" Padding="15" IsVisible="{Binding IsUpdating}">
        <StackPanel Spacing="10">
          <TextBlock Text="{Binding UpdateStatus}" 
                     FontSize="14" 
                     Foreground="White" 
                     HorizontalAlignment="Center"/>
          <ProgressBar Value="{Binding UpdateProgress}" 
                      Maximum="100" 
                      Height="25"
                      Background="#404040"
                      Foreground="#00FFFF"/>
          <TextBlock Text="{Binding UpdateProgressText}" 
                     FontSize="12" 
                     Foreground="#707070" 
                     HorizontalAlignment="Center"/>
        </StackPanel>
      </Border>
      
      <!-- Status Message -->
      <TextBlock Text="{Binding StatusMessage}" 
                 FontSize="14" 
                 Foreground="{Binding StatusMessageColor}"
                 HorizontalAlignment="Center"
                 TextWrapping="Wrap"
                 MaxWidth="400"/>
      
    </StackPanel>
    
    <!-- Close Button -->
    <Button Grid.Row="2" 
            Content="Close" 
            Width="100" 
            Height="40" 
            FontSize="16" 
            FontWeight="Bold" 
            Background="#404040" 
            Foreground="White" 
            BorderBrush="#707070" 
            BorderThickness="2" 
            CornerRadius="5"
            HorizontalAlignment="Center"
            Margin="0,-60,0,10"
            Click="CloseButton_Click"/>
    
  </Grid>
</Window>

